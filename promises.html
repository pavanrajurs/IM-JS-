<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>promises</title>
</head>

<body>


  <script>
    // get one data after the other
    function getData(dataId, getNextData) {
      setTimeout(() => {
    console.log("data", dataId);
        if (getNextData) {
          getNextData();
        }
      }, 2000);
    }
    //callback hell => nested callbacks stacked below one another ,difficult to understand and manage
    getData(1, () => {
      console.log("getting data 2.....");
      getData(2, () => {
        console.log("getting data 3.....");
        getData(3, () => {
          console.log("getting data 4.....");
          getData(4);
        })
      })
    })


    //promises =>A Promise is an object that represents the eventual result (or failure) of an asynchronous operation.

    // it has three states(example of promise1)
    // Promise {<rejected>: 'some error occured'}
    // [[Prototype]] Promise
    // [[PromiseState]] "rejected"
    // [[PromiseResult]] "some error occured"

    //example
    // let promise = new Promise((resolve, reject) => {
    // //   console.log("i am a promise");
    // //   resolve(123)
    // // })

    let promise1 = new Promise((resolve, reject) => {
      console.log("i am a promise");
      reject("some error occured")
    })


    function c1() {
      console.log("hello  you");

    }
    function get(d, c) {
      return new Promise((resolve, reject) => {
        setTimeout(() => {
          console.log(d);
          if (c) {
            c();
          }
          resolve("resolved");
        }, 6000);
      });
    }
    get(1, c1)

    const getPromise = () => {
      return new Promise((resolve, reject) => {
        console.log("i am a promise");
        resolve("sucess");
      })
    }
    let promise = getPromise();
    promise.then(() => {
      console.log("promise fulfilled");
    });




  </script>
</body>

</html>